<?xml version="1.0" encoding="utf-8" ?>
<Patch>
<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Combat Extended</li>
		<li>Cupro's Alloys (Continued)</li>
    </mods>
	<match Class="PatchOperationSequence">		
	<success>Always</success>
		<operations>
		

		<!-- template -->
		<!-- Full Metal Jacket -->
		<li Class="PatchOperationReplace">
		<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_FMJ"]/ingredients</xpath>
			<value>
			<ingredients>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Lead</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Brass</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>				
				<li>
					<filter>
						<thingDefs>
							<li>Chemfuel</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Brass</li>
							<li>CAL_Cupronickel</li>
							<li>Steel</li>
						</thingDefs>
					</filter>
					<count>stuff</count>
				</li>
			</ingredients>
			</value>
		</li>
		<li Class="PatchOperationReplace">
			<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_FMJ"]/fixedIngredientFilter</xpath>
			<value>
			<fixedIngredientFilter>
					<thingDefs>
					    <li>CAL_Brass</li>
						<li>CAL_Cupronickel</li>
						<li>Steel</li>
					</thingDefs>
			</fixedIngredientFilter>
			</value>
		</li>
		<!-- Hollow Point -->
		<li Class="PatchOperationReplace">
		<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_HP"]/ingredients</xpath>
			<value>
			<ingredients>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Lead</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Brass</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>				
				<li>
					<filter>
						<thingDefs>
							<li>Chemfuel</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Brass</li>
							<li>CAL_Copper</li>
							<li>Steel</li>
						</thingDefs>
					</filter>
					<count>stuff</count>
				</li>
			</ingredients>
			</value>
		</li>
		<li Class="PatchOperationReplace">
			<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_HP"]/fixedIngredientFilter</xpath>
			<value>
			<fixedIngredientFilter>
					<thingDefs>
							<li>CAL_Brass</li>
							<li>CAL_Copper</li>
							<li>Steel</li>
					</thingDefs>
			</fixedIngredientFilter>
			</value>
		</li>
		<!-- Armor-piercing -->
		<li Class="PatchOperationReplace">
		<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_AP"]/ingredients</xpath>
			<value>
			<ingredients>
				<li>
					<filter>
						<thingDefs>
							<li>Steel</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Brass</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>				
				<li>
					<filter>
						<thingDefs>
							<li>Chemfuel</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Copper</li>
							<li>CAL_Cupronickel</li>
						</thingDefs>
					</filter>
					<count>stuff</count>
				</li>
			</ingredients>
			</value>
		</li>
		<li Class="PatchOperationReplace">
			<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_AP"]/fixedIngredientFilter</xpath>
			<value>
			<fixedIngredientFilter>
					<thingDefs>
						<li>CAL_Copper</li>
						<li>CAL_Cupronickel</li>
					</thingDefs>
			</fixedIngredientFilter>
			</value>
		</li>
		<!-- Armor-piercing incendiary -->
		<li Class="PatchOperationReplace">
		<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_Incendiary"]/ingredients</xpath>
			<value>
			<ingredients>
				<li>
					<filter>
						<thingDefs>
							<li>Steel</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Brass</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>				
				<li>
					<filter>
						<thingDefs>
							<li>Chemfuel</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Copper</li>
							<li>CAL_Cupronickel</li>
						</thingDefs>
					</filter>
					<count>stuff</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>Prometheum</li>
						</thingDefs>
					</filter>
					<count>stuff</count>
				</li>
			</ingredients>
			</value>
		</li>
		<li Class="PatchOperationReplace">
			<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_Incendiary"]/fixedIngredientFilter</xpath>
			<value>
			<fixedIngredientFilter>
					<thingDefs>
						<li>CAL_Copper</li>
						<li>CAL_Cupronickel</li>
					</thingDefs>
			</fixedIngredientFilter>
			</value>
		</li>
		<!-- High-bigstuff -->
		<li Class="PatchOperationReplace">
		<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_HE"]/ingredients</xpath>
			<value>
			<ingredients>
				<li>
					<filter>
						<thingDefs>
							<li>Steel</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Brass</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>				
				<li>
					<filter>
						<thingDefs>
							<li>Chemfuel</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Copper</li>
							<li>CAL_Cupronickel</li>
						</thingDefs>
					</filter>
					<count>stuff</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>FSX</li>
						</thingDefs>
					</filter>
					<count>bigstuff</count>
				</li>
			</ingredients>
			</value>
		</li>
		<li Class="PatchOperationReplace">
			<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_HE"]/fixedIngredientFilter</xpath>
			<value>
			<fixedIngredientFilter>
					<thingDefs>
						<li>CAL_Copper</li>
						<li>CAL_Cupronickel</li>
					</thingDefs>
			</fixedIngredientFilter>
			</value>
		</li>
		<!-- Sabot -->	
		<li Class="PatchOperationReplace">
		<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_Sabot"]/ingredients</xpath>
			<value>
			<ingredients>
				<li>
					<filter>
						<thingDefs>
							<li>Steel</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Brass</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>				
				<li>
					<filter>
						<thingDefs>
							<li>Chemfuel</li>
						</thingDefs>
					</filter>
					<count>bullet</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>CAL_Copper</li>
							<li>CAL_Cupronickel</li>
						</thingDefs>
					</filter>
					<count>stuff</count>
				</li>
				<li>
					<filter>
						<thingDefs>
							<li>Uranium</li>
						</thingDefs>
					</filter>
					<count>bigstuff</count>
				</li>
			</ingredients>
			</value>
		</li>
		<li Class="PatchOperationReplace">
			<xpath>/Defs/RecipeDef[defName="MakeAmmo_ammoname_Sabot"]/fixedIngredientFilter</xpath>
			<value>
			<fixedIngredientFilter>
					<thingDefs>
						<li>CAL_Copper</li>
						<li>CAL_Cupronickel</li>
					</thingDefs>
			</fixedIngredientFilter>
			</value>
		</li>

		</operations>
	</match>
</Operation>
</Patch>		